<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mediador de Debates (Vers√£o Final)</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Lato:wght@400;700&display=swap');
        :root {
            --azul-civitas: #1A3E6F;
            --cinza-texto: #363736;
            --amarelo-destaque: #f9a825;
            --verde-correto: #2e7d32;
            --vermelho-incorreto: #c62828;
            --fundo-claro: #f0f4f8;
            --branco: #ffffff;
            --cinza-claro: #e0e0e0;
        }
        body, html {
            height: 100%; margin: 0; font-family: 'Lato', sans-serif;
            background-color: var(--fundo-claro); display: flex;
            justify-content: center; align-items: center; overflow: hidden;
            padding: 20px; box-sizing: border-box;
            -webkit-font-smoothing: antialiased;
        }
        /* --- Bot√£o Voltar --- */
        .btn-voltar {
            position: absolute;
            top: 20px;
            left: 20px;
            background-color: var(--azul-civitas);
            color: var(--branco);
            padding: 10px 20px;
            border-radius: 8px;
            font-weight: bold;
            text-decoration: none;
            transition: all 0.3s ease;
            z-index: 100;
        }
        .btn-voltar:hover {
            transform: translateY(-3px);
            box-shadow: 0 4px 12px rgba(0,0,0,0.2);
        }
        /* --- Telas de In√≠cio e Fim --- */
        .tela-overlay {
            background-color: var(--branco); padding: 40px; border-radius: 12px;
            box-shadow: 0 10px 25px rgba(0,0,0,0.08); text-align: center;
            width: 90%; max-width: 700px;
            border-top: 5px solid var(--azul-civitas);
        }
        .tela-overlay h1 { color: var(--azul-civitas); font-size: 2em; margin-bottom: 15px; }
        .tela-overlay p { color: var(--cinza-texto); font-size: 1.2em; line-height: 1.6; margin-bottom: 30px; }
        .btn-principal {
            background-color: var(--amarelo-destaque); color: var(--cinza-texto);
            border: none; padding: 15px 40px; border-radius: 8px; cursor: pointer;
            font-size: 1.2em; font-weight: bold; transition: all 0.3s;
        }
        .btn-principal:hover { transform: translateY(-3px); box-shadow: 0 4px 15px rgba(0,0,0,0.15); }
        
        /* --- Estrutura Principal da Atividade --- */
        .container-principal { display: flex; align-items: stretch; gap: 20px; width: 100%; max-width: 1200px; height: 95vh; max-height: 750px; }
        .legenda-sidebar { background-color: var(--branco); padding: 25px; border-radius: 12px; box-shadow: 0 10px 25px rgba(0,0,0,0.08); border-top: 5px solid var(--amarelo-destaque); width: 300px; flex-shrink: 0; }
        .legenda-sidebar h2 { margin: 0 0 20px 0; color: var(--azul-civitas); font-size: 1.4em; text-align: center; }
        .legenda-item { display: flex; align-items: center; gap: 15px; margin-bottom: 20px; }
        .legenda-sinal { font-size: 2.5em; font-weight: bold; color: var(--cinza-texto); width: 40px; text-align: center; }
        .legenda-texto p { margin: 0; font-size: 1em; line-height: 1.4; }
        .legenda-texto strong { color: var(--azul-civitas); }
        .legenda-emoji { font-size: 2em; }
        main.card { background-color: var(--branco); padding: 20px 30px; border-radius: 12px; box-shadow: 0 10px 25px rgba(0,0,0,0.08); border-top: 5px solid var(--azul-civitas); flex-grow: 1; display: flex; flex-direction: column; }
        
        .arena-debate { text-align: center; padding-bottom: 10px; }
        .arena-debate p.contexto { font-size: 1em; line-height: 1.5; margin-bottom: 10px; }
        .teses-container { display: flex; justify-content: space-around; align-items: center; }
        .debatedor { text-align: center; width: 45%; }
        .debatedor h3 { margin: 0 0 5px 0; color: var(--azul-civitas); font-size: 1.1em; }
        .debatedor p.tese { font-size: 0.95em; margin: 0; font-style: italic; }
        .tese strong { background-color: #fff9e6; padding: 2px 5px; border-radius: 4px; }
        .vs { font-size: 1.5em; font-weight: bold; color: var(--amarelo-destaque); }
        
        .paleta { text-align: center; padding: 10px 0; border-top: 2px solid #eee; border-bottom: 2px solid #eee; margin: 10px 0; }
        .paleta button { font-family: 'Lato', sans-serif; background-color: #e9ecef; color: var(--cinza-texto); border: 2px solid #ced4da; width: 45px; height: 45px; margin: 0 5px; border-radius: 10px; cursor: pointer; font-size: 1.5em; font-weight: bold; transition: all 0.2s; }
        .paleta button.selecionado { background-color: var(--amarelo-destaque); border-color: var(--azul-civitas); color: var(--azul-civitas); transform: scale(1.1); }
        
        .dialogo { margin: 10px 0; font-size: 1.15em; line-height: 2; color: var(--cinza-texto); flex-grow: 1; overflow-y: auto; padding-right: 10px; }
        .espaco {
            display: inline-flex; align-items: center; justify-content: center;
            width: 30px; height: 30px; border: 2px dashed #ccc; border-radius: 8px;
            vertical-align: middle; cursor: pointer; background-color: #fafafa;
            font-weight: bold; color: var(--azul-civitas); transition: border-color 0.3s;
        }
        .espaco:hover { border-color: var(--amarelo-destaque); }
        
        footer { margin-top: auto; }
        .acoes { display: flex; justify-content: center; align-items: center; gap: 15px; height: 50px; }
        #feedback { padding: 10px; border-radius: 8px; text-align: center; display: none; flex-grow: 1; }
        #feedback.correto { background-color: #e8f5e9; }
        #feedback.incorreto { background-color: #ffebee; }
        #feedback p { margin: 0; font-weight: bold; }
        #feedback.correto p { color: var(--verde-correto); }
        #feedback.incorreto p { color: var(--vermelho-incorreto); }
        .btn-acao { background-color: var(--azul-civitas); color: var(--branco); border: none; padding: 12px 30px; border-radius: 8px; cursor: pointer; font-size: 1em; font-weight: bold; transition: transform 0.2s; }
        #btn-avancar { display: none; }
    </style>
</head>
<body>
    <a href="anos-finais.html" class="btn-voltar">‚ùÆ Voltar</a>

    <div id="tela-inicial" class="tela-overlay">
        <h1>Bem-vindo ao Mediador de Debates!</h1>
        <p>Sua miss√£o √© usar a pontua√ß√£o correta para organizar as falas em pequenos debates. Leia o contexto, escolha um sinal na paleta e clique nos espa√ßos para completar o di√°logo. Boa sorte!</p>
        <button id="btn-comecar" class="btn-principal">Come√ßar!</button>
    </div>

    <div id="tela-final" class="tela-overlay" style="display: none;">
        <h1>Parab√©ns, Mediador! üèÜ</h1>
        <p>Voc√™ completou todos os debates com sucesso! Agora voc√™ sabe como usar a pontua√ß√£o para dar voz, ordem e emo√ß√£o √†s falas dos personagens. Continue praticando!</p>
        <button id="btn-reiniciar" class="btn-principal">Jogar Novamente</button>
    </div>

    <div class="container-principal" style="display: none;">
        <aside class="legenda-sidebar">
            <h2>Legenda de Di√°logo</h2>
            <div class="legenda-item"> <div class="legenda-sinal">:</div> <div class="legenda-texto"><p><strong>Dois-pontos</strong><br>Anuncia que algu√©m vai falar.</p></div> <div class="legenda-emoji">üó£Ô∏è</div> </div>
            <div class="legenda-item"> <div class="legenda-sinal">‚Äî</div> <div class="legenda-texto"><p><strong>Travess√£o</strong><br>Marca o in√≠cio da fala do personagem.</p></div> <div class="legenda-emoji">üí¨</div> </div>
            <div class="legenda-item"> <div class="legenda-sinal">" "</div> <div class="legenda-texto"><p><strong>Aspas</strong><br>Tamb√©m podem ser usadas para mostrar uma fala ou cita√ß√£o.</p></div> <div class="legenda-emoji">‚úçÔ∏è</div> </div>
            <div class="legenda-item"> <div class="legenda-sinal">? . !</div> <div class="legenda-texto"><p><strong>Finais</strong><br>Terminam a frase dentro da fala, com a inten√ß√£o correta.</p></div> <div class="legenda-emoji">üèÅ</div> </div>
        </aside>

        <main class="card">
            <p id="contador" style="text-align: right; margin: 0;"></p>
            <header id="arena-debate" class="arena-debate"></header>
            <div id="paleta" class="paleta"></div>
            <section id="dialogo" class="dialogo"></section>
            <footer>
                <div class="acoes">
                    <button id="btn-verificar" class="btn-acao">Verificar</button>
                    <div id="feedback"><p id="feedback-texto"></p></div>
                    <button id="btn-avancar" class="btn-acao">Avan√ßar</button>
                </div>
            </footer>
        </main>
    </div>

    <script>
        const debates = [
             {
                contexto: "Na aula de artes, a professora prop√¥s uma discuss√£o sobre o que √© mais valioso: a imagina√ß√£o para criar algo novo ou a t√©cnica para executar com perfei√ß√£o?",
                debatedores: [ { nome: "LIA", tese: "A <strong>imagina√ß√£o</strong> √© mais importante que a t√©cnica." }, { nome: "LEO", tese: "A <strong>t√©cnica</strong> perfeita √© mais importante que a imagina√ß√£o." } ],
                dialogo: [ "Leo come√ßou defendendo a precis√£o<ESP1>", "<ESP2> Sem t√©cnica, a melhor ideia do mundo fica presa na cabe√ßa e nunca se torna real<ESP3>", "Lia discordou, valorizando a criatividade<ESP4>", "<ESP5> E de que adianta uma c√≥pia perfeita sem alma ou uma ideia original<ESP6>" ],
                solucao: [":", "‚Äî", ".", ":", "‚Äî", "?"],
                paleta: [".", "?", ":", "‚Äî"],
                comentarioAcerto: "Excelente! Voc√™ deu o tom certo √† defesa da t√©cnica e √† pergunta provocadora.",
                comentarioErro: "Revise com aten√ß√£o. Leo faz uma afirma√ß√£o, mas a fala de Lia √© uma pergunta que desafia a ideia dele."
            },
            {
                contexto: "Durante o planejamento das f√©rias da turma, surgiu um impasse sobre o destino ideal.",
                debatedores: [ { nome: "ANA", tese: "As f√©rias na <strong>praia</strong> s√£o mais divertidas e sociais." }, { nome: "BETO", tese: "As f√©rias no <strong>campo</strong> s√£o melhores para relaxar e se reconectar." } ],
                dialogo: [ "Beto defendeu a tranquilidade<ESP1>", "<ESP2> O sil√™ncio do campo recarrega as energias<ESP3> N√£o h√° nada igual<ESP4>", "Ana contrap√¥s com entusiasmo<ESP5>", "<ESP6> Mas e a alegria contagiante do mar, da areia e dos amigos reunidos<ESP7>" ],
                solucao: [":", "‚Äî", ".", "!", ":", "‚Äî", "?"],
                paleta: [":", "‚Äî", ".", "!", "?"],
                comentarioAcerto: "Perfeito! Voc√™ usou os sinais para mostrar tanto a calma de Beto quanto a empolga√ß√£o de Ana.",
                comentarioErro: "Quase l√°! Lembre-se que o ponto de exclama√ß√£o pode mostrar entusiasmo, e a fala de Ana √© uma pergunta animada."
            },
            {
                contexto: "Um grupo de amigos debatia sobre a melhor forma de se preparar para uma prova importante.",
                debatedores: [ { nome: "CARLA", tese: "Estudar <strong>em grupo</strong> ajuda a aprender mais, trocando ideias." }, { nome: "DAVI", tese: "Estudar <strong>sozinho</strong> gera mais foco e concentra√ß√£o." } ],
                dialogo: [ "Davi argumentou a favor do sil√™ncio<ESP1>", "<ESP2> Sozinho, eu consigo me concentrar totalmente no conte√∫do, sem interrup√ß√µes<ESP3>", "Carla ent√£o questionou a estrat√©gia dele<ESP4>", "<ESP5> Mas voc√™ n√£o perde a chance de aprender com as d√∫vidas dos colegas e ensinar o que sabe<ESP6>" ],
                solucao: [":", "‚Äî", ".", ":", "‚Äî", "?"],
                paleta: [":", "‚Äî", ".", "?"],
                comentarioAcerto: "Isso mesmo! A pontua√ß√£o est√° correta para organizar este debate sobre m√©todos de estudo.",
                comentarioErro: "Cheque novamente. A fala de Carla √© claramente uma pergunta, precisa do sinal correto no final."
            },
            {
                contexto: "Em uma conversa sobre sucesso, Rita e Guto apresentaram vis√µes opostas sobre o que leva algu√©m ao topo.",
                debatedores: [ { nome: "RITA", tese: "O <strong>esfor√ßo e a dedica√ß√£o</strong> superam o talento natural." }, { nome: "GUTO", tese: "O <strong>talento natural</strong> √© o fator mais importante para o sucesso." } ],
                dialogo: [ "Guto afirmou com certeza<ESP1>", "<ESP2> Algumas pessoas simplesmente nascem com um dom, √© algo que n√£o se aprende<ESP3>", "Rita rebateu com uma pergunta provocadora<ESP4>", "<ESP5> E de que adianta o dom sem a disciplina e a dedica√ß√£o para aprimor√°-lo todos os dias<ESP6>" ],
                solucao: [":", "‚Äî", ".", ":", "‚Äî", "?"],
                paleta: [".", "?", ":", "‚Äî"],
                comentarioAcerto: "√ìtima organiza√ß√£o! Voc√™ usou a pontua√ß√£o para dar o tom certo a cada fala.",
                comentarioErro: "Faltou pouco! A fala de Rita √© uma provoca√ß√£o em forma de pergunta. Qual sinal se encaixa no final dela?"
            },
            {
                contexto: "Pedro e Mari, donos de pets, iniciaram uma cl√°ssica discuss√£o sobre qual animal de estima√ß√£o √© o melhor companheiro.",
                debatedores: [ { nome: "PEDRO", tese: "Os <strong>c√£es</strong> s√£o os melhores e mais leais amigos do homem." }, { nome: "MARI", tese: "Os <strong>gatos</strong> s√£o mais independentes, pr√°ticos e carinhosos √† sua maneira." } ],
                dialogo: [ "Mari defendeu a praticidade dos felinos<ESP1>", "<ESP2> Gatos s√£o muito mais pr√°ticos, limpos e n√£o exigem tanta aten√ß√£o constante<ESP3>", "Pedro exclamou, indignado<ESP4>", "<ESP5> Como assim<ESP6> A alegria contagiante de um c√£o ao nos ver chegar n√£o tem pre√ßo<ESP7>" ],
                solucao: [":", "‚Äî", ".", ":", "‚Äî", "?", "!"],
                paleta: [".", "!", "?", ":", "‚Äî"],
                comentarioAcerto: "Trabalho excelente! Voc√™ capturou a emo√ß√£o da fala do Pedro com a pontua√ß√£o correta.",
                comentarioErro: "Revise a fala de Pedro. Ele faz uma pergunta surpreso e termina com uma afirma√ß√£o emocionada."
            },
            {
                contexto: "A turma discutia o impacto dos jogos eletr√¥nicos na vida dos estudantes.",
                debatedores: [ { nome: "JULIA", tese: "Os <strong>videogames</strong> podem ser muito educativos." }, { nome: "MARCOS", tese: "Os <strong>videogames</strong> s√£o apenas uma perda de tempo." } ],
                dialogo: [ "Marcos foi direto ao ponto<ESP1>", "<ESP2> Eles apenas nos distraem dos estudos e das tarefas<ESP3>", "Julia contrap√¥s com um argumento<ESP4>", "<ESP5> Muitos jogos ensinam hist√≥ria, estrat√©gia e at√© outros idiomas<ESP6> Voc√™ n√£o sabia<ESP7>" ],
                solucao: [":", "‚Äî", ".", ":", "‚Äî", ".", "?"],
                paleta: [".", "?", ":", "‚Äî"],
                comentarioAcerto: "Exato! A pontua√ß√£o est√° perfeita para mostrar a pergunta surpresa de Julia.",
                comentarioErro: "Observe a √∫ltima fala de Julia. Ela faz uma afirma√ß√£o e depois uma pergunta."
            },
            {
                contexto: "No corredor, um debate r√°pido surgiu sobre a melhor forma de se comunicar √† dist√¢ncia.",
                debatedores: [ { nome: "LUCAS", tese: "As <strong>mensagens de texto</strong> s√£o mais r√°pidas e eficientes." }, { nome: "SOFIA", tese: "As <strong>liga√ß√µes de voz</strong> conectam mais as pessoas." } ],
                dialogo: [ "Sofia defendeu o calor da voz humana<ESP1>", "<ESP2> Ouvir a entona√ß√£o e a emo√ß√£o de algu√©m √© muito mais pessoal<ESP3>", "Lucas respondeu com um questionamento pr√°tico<ESP4>", "<ESP5> Mas e a praticidade de resolver tudo com uma mensagem r√°pida, sem atrapalhar o outro<ESP6>" ],
                solucao: [":", "‚Äî", ".", ":", "‚Äî", "?"],
                paleta: [".", "?", ":", "‚Äî"],
                comentarioAcerto: "Correto! Voc√™ pontuou a afirma√ß√£o de Sofia e a pergunta de Lucas perfeitamente.",
                comentarioErro: "Verifique a fala de Lucas. Ele est√° fazendo uma pergunta, n√£o uma afirma√ß√£o."
            },
            {
                contexto: "Na hora do lanche, a conversa girou em torno das escolhas alimentares e o estilo de vida moderno.",
                debatedores: [ { nome: "PAULA", tese: "A <strong>comida caseira</strong> √© mais saud√°vel e saborosa." }, { nome: "TIAGO", tese: "O <strong>fast-food</strong> √© mais pr√°tico e combina com a correria." } ],
                dialogo: [ "Tiago elogiou a conveni√™ncia<ESP1>", "<ESP2> Nada supera a rapidez do fast-food num dia agitado<ESP3>", "Paula fez um alerta em forma de pergunta<ESP4>", "<ESP5> E o custo disso para a nossa sa√∫de no longo prazo<ESP6>" ],
                solucao: [":", "‚Äî", "!", ":", "‚Äî", "?"],
                paleta: ["!", "?", ":", "‚Äî"],
                comentarioAcerto: "√ìtimo! Voc√™ usou a exclama√ß√£o para dar √™nfase e a interroga√ß√£o para a pergunta ret√≥rica.",
                comentarioErro: "A fala de Tiago √© entusiasmada. A de Paula √© uma pergunta de alerta. Use os sinais corretos."
            },
            {
                contexto: "O conselho estudantil debatia a proposta de implementar ou n√£o uniformes obrigat√≥rios na escola.",
                debatedores: [ { nome: "HELENA", tese: "Os <strong>uniformes</strong> promovem a igualdade e reduzem o consumismo." }, { nome: "BRUNO", tese: "Os <strong>uniformes</strong> tiram a individualidade e a liberdade de express√£o." } ],
                dialogo: [ "Helena explicou seu ponto de vista<ESP1>", "<ESP2> Com uniforme, a preocupa√ß√£o com marcas e apar√™ncias diminui<ESP3>", "Bruno protestou com veem√™ncia<ESP4>", "<ESP5> Que absurdo<ESP6> Quer dizer que devemos todos ser iguais para evitar problemas<ESP7>" ],
                solucao: [":", "‚Äî", ".", ":", "‚Äî", "!", "?"],
                paleta: [".", "!", "?", ":", "‚Äî"],
                comentarioAcerto: "Excelente! A pontua√ß√£o da fala de Bruno mostra perfeitamente a indigna√ß√£o dele.",
                comentarioErro: "Veja a fala de Bruno. Ele come√ßa com uma exclama√ß√£o de protesto e termina com uma pergunta ir√¥nica."
            },
            {
                contexto: "Dois alunos com opini√µes diferentes conversavam sobre as tarefas escolares para casa.",
                debatedores: [ { nome: "RAFA", tese: "O <strong>dever de casa</strong> √© essencial para fixar o conte√∫do." }, { nome: "BIA", tese: "O <strong>dever de casa</strong> √© um estresse desnecess√°rio ap√≥s a aula." } ],
                dialogo: [ "Bia desabafou sobre o cansa√ßo<ESP1>", "<ESP2> N√≥s j√° passamos o dia todo na escola, precisamos de um tempo para descansar a mente<ESP3>", "Rafa argumentou com foco no aprendizado<ESP4>", "<ESP5> Mas a pr√°tica constante e individual √© o que realmente leva √† perfei√ß√£o e ao dom√≠nio da mat√©ria<ESP6>" ],
                solucao: [":", "‚Äî", ".", ":", "‚Äî", "."],
                paleta: [".", ":", "‚Äî"],
                comentarioAcerto: "Isso mesmo! Um di√°logo simples com afirma√ß√µes diretas e bem pontuadas.",
                comentarioErro: "Revise com aten√ß√£o. As duas falas s√£o afirma√ß√µes, sem grande emo√ß√£o ou d√∫vida, defendendo um ponto de vista."
            },
            {
                contexto: "Numa roda de amigos, a discuss√£o era sobre qual superpoder seria o mais incr√≠vel de se ter.",
                debatedores: [ { nome: "VITOR", tese: "O superpoder de <strong>voar</strong> √© o melhor, representa a liberdade." }, { nome: "SARA", tese: "O superpoder de <strong>ficar invis√≠vel</strong> √© muito mais √∫til e estrat√©gico." } ],
                dialogo: [ "Vitor sonhou alto<ESP1>", "<ESP2> Imagine poder viajar para qualquer lugar do mundo de gra√ßa, sentindo o vento no rosto<ESP3>", "Sara foi mais pr√°tica e misteriosa<ESP4>", "<ESP5> E a utilidade de descobrir segredos e estar em lugares sem ser notada<ESP6>" ],
                solucao: [":", "‚Äî", "!", ":", "‚Äî", "?"],
                paleta: ["!", "?", ":", "‚Äî"],
                comentarioAcerto: "Perfeito! O entusiasmo de Vitor e a pergunta estrat√©gica de Sara foram bem pontuados.",
                comentarioErro: "A fala de Vitor √© um sonho, cheia de entusiasmo. A de Sara √© uma pergunta para reflex√£o."
            },
            {
                contexto: "Nina e Diogo n√£o chegavam a um acordo sobre qual era a melhor esta√ß√£o do ano para aproveitar a vida.",
                debatedores: [ { nome: "NINA", tese: "O <strong>ver√£o</strong>, com seu calor e dias longos, √© a melhor esta√ß√£o." }, { nome: "DIOGO", tese: "O <strong>inverno</strong>, com seu frio, √© muito mais charmoso e aconchegante." } ],
                dialogo: [ "Diogo elogiou o frio<ESP1>", "<ESP2> N√£o h√° nada como um chocolate quente, um bom livro e o barulho da chuva l√° fora<ESP3>", "Nina retrucou com energia<ESP4>", "<ESP5> Voc√™ est√° se esquecendo da alegria contagiante do sol, de um mergulho no mar e de tomar sorvete na pra√ßa<ESP6>" ],
                solucao: [":", "‚Äî", ".", ":", "‚Äî", "?"],
                paleta: [".", "?", ":", "‚Äî"],
                comentarioAcerto: "√ìtima pontua√ß√£o! Voc√™ diferenciou bem a afirma√ß√£o calma de Diogo da pergunta animada de Nina.",
                comentarioErro: "A fala de Nina, apesar de listar coisas, tem o tom de uma pergunta, como se dissesse 'e o que me diz disso?'."
            },
            {
                contexto: "A chegada dos leitores digitais iniciou um debate sobre o futuro dos livros.",
                debatedores: [ { nome: "MATEUS", tese: "Os <strong>livros f√≠sicos</strong>, de papel, s√£o insubstitu√≠veis." }, { nome: "LAURA", tese: "Os <strong>livros digitais (e-books)</strong> s√£o o futuro da leitura." } ],
                dialogo: [ "Mateus falou com nostalgia<ESP1>", "<ESP2> O cheiro de um livro novo e o toque das p√°ginas s√£o parte da magia<ESP3>", "Laura questionou com um argumento pr√°tico<ESP4>", "<ESP5> Mas e a vantagem incr√≠vel de poder carregar mil livros em um √∫nico aparelho para onde voc√™ for<ESP6>" ],
                solucao: [":", "‚Äî", ".", ":", "‚Äî", "?"],
                paleta: [".", "?", ":", "‚Äî"],
                comentarioAcerto: "Exato! A afirma√ß√£o nost√°lgica e a pergunta pr√°tica foram pontuadas corretamente.",
                comentarioErro: "A fala de Laura √© uma pergunta clara que busca comparar vantagens. Use o sinal correto."
            },
            {
                contexto: "Dois primos conversavam sobre onde gostariam de morar no futuro, na cidade grande ou no interior.",
                debatedores: [ { nome: "JO√ÉO", tese: "Morar na <strong>cidade grande</strong> oferece mais oportunidades." }, { nome: "TEREZA", tese: "A vida no <strong>interior</strong> √© mais tranquila e segura." } ],
                dialogo: [ "Jo√£o exaltou o ritmo da metr√≥pole<ESP1>", "<ESP2> As melhores escolas, trabalhos e eventos culturais est√£o todos aqui<ESP3>", "Tereza suspirou e fez uma reflex√£o<ESP4>", "<ESP5> Mas que adianta ter tudo isso se n√£o temos tempo nem paz para aproveitar de verdade<ESP6>" ],
                solucao: [":", "‚Äî", "!", ":", "‚Äî", "?"],
                paleta: ["!", "?", ":", "‚Äî"],
                comentarioAcerto: "Perfeito! Voc√™ capturou a empolga√ß√£o de Jo√£o e o questionamento profundo de Tereza.",
                comentarioErro: "A fala de Jo√£o √© uma exclama√ß√£o, mostrando empolga√ß√£o. A de Tereza √© uma pergunta filos√≥fica."
            },
            {
                contexto: "O filme da noite anterior levantou uma quest√£o moral complexa entre dois amigos.",
                debatedores: [ { nome: "FELIPE", tese: "√â sempre melhor saber a <strong>verdade</strong>, mesmo que ela machuque." }, { nome: "VANESSA", tese: "√Äs vezes, uma <strong>mentira pequena</strong> pode proteger quem amamos." } ],
                dialogo: [ "Vanessa defendeu seu ponto de vista<ESP1>", "<ESP2> Uma mentira pequena pode evitar uma tristeza desnecess√°ria e que n√£o muda nada<ESP3>", "Felipe foi incisivo e direto<ESP4>", "<ESP5> Ent√£o voc√™ prefere o conforto de viver na ilus√£o em vez de encarar a realidade<ESP6>" ],
                solucao: [":", "‚Äî", ".", ":", "‚Äî", "?"],
                paleta: [".", "?", ":", "‚Äî"],
                comentarioAcerto: "Correto! A pontua√ß√£o est√° perfeita para este debate intenso e filos√≥fico.",
                comentarioErro: "A fala de Felipe √© uma pergunta direta e cortante, que coloca Vanessa contra a parede. Qual sinal deve ser usado?",
            }
        ];
        
        let debateAtual = 0;
        let pincelAtual = null;
        let respostasUsuario = [];

        const telaInicialEl = document.getElementById('tela-inicial');
        const telaFinalEl = document.getElementById('tela-final');
        const containerPrincipalEl = document.querySelector('.container-principal');
        const arenaEl = document.getElementById('arena-debate');
        const dialogoEl = document.getElementById('dialogo');
        const paletaEl = document.getElementById('paleta');
        const btnVerificarEl = document.getElementById('btn-verificar');
        const btnAvancarEl = document.getElementById('btn-avancar');
        const feedbackEl = document.getElementById('feedback');
        const feedbackTextoEl = document.getElementById('feedback-texto');
        const contadorEl = document.getElementById('contador');
        const btnComecarEl = document.getElementById('btn-comecar');
        const btnReiniciarEl = document.getElementById('btn-reiniciar');

        function iniciarAtividade() {
            telaInicialEl.style.display = 'none';
            containerPrincipalEl.style.display = 'flex';
            carregarDebate();
        }

        function finalizarAtividade() {
            containerPrincipalEl.style.display = 'none';
            telaFinalEl.style.display = 'block';
        }

        function reiniciarAtividade() {
            window.location.reload();
        }

        function carregarDebate() {
            if (debateAtual >= debates.length) {
                finalizarAtividade();
                return;
            }

            const debate = debates[debateAtual];
            respostasUsuario = new Array(debate.solucao.length).fill('');
            
            contadorEl.textContent = `Atividade ${debateAtual + 1} de ${debates.length}`;
            arenaEl.innerHTML = `
                <p class="contexto">${debate.contexto}</p>
                <div class="teses-container">
                    <div class="debatedor"><h3>${debate.debatedores[0].nome}</h3><p class="tese">${debate.debatedores[0].tese}</p></div>
                    <div class="vs">VS</div>
                    <div class="debatedor"><h3>${debate.debatedores[1].nome}</h3><p class="tese">${debate.debatedores[1].tese}</p></div>
                </div>`;

            paletaEl.innerHTML = '';
            debate.paleta.forEach(sinal => {
                const btn = document.createElement('button');
                btn.textContent = sinal;
                btn.addEventListener('click', () => selecionarPincel(btn, sinal));
                paletaEl.appendChild(btn);
            });
            
            dialogoEl.innerHTML = '';
            let espacoIndex = 0;
            debate.dialogo.forEach(linha => {
                const p = document.createElement('p');
                p.innerHTML = linha.replace(/<ESP\d+>/g, () => `<span class="espaco" data-index="${espacoIndex++}"></span>`);
                dialogoEl.appendChild(p);
            });
            
            adicionarListenersAosEspacos();
            resetarEstado();
        }

        function selecionarPincel(btn, sinal) {
            const botoes = paletaEl.querySelectorAll('button');
            botoes.forEach(b => b.classList.remove('selecionado'));
            btn.classList.add('selecionado');
            pincelAtual = sinal;
        }

        function adicionarListenersAosEspacos() {
            const espacos = dialogoEl.querySelectorAll('.espaco');
            espacos.forEach(espaco => {
                espaco.addEventListener('click', () => {
                    if (pincelAtual) {
                        espaco.textContent = pincelAtual;
                        const index = parseInt(espaco.dataset.index);
                        respostasUsuario[index] = pincelAtual;
                    }
                });
            });
        }

        function resetarEstado() {
            pincelAtual = null;
            btnVerificarEl.style.display = 'inline-block';
            btnAvancarEl.style.display = 'none';
            feedbackEl.style.display = 'none';
        }

        btnVerificarEl.addEventListener('click', () => {
            const debate = debates[debateAtual];
            let acertos = 0;
            const espacos = dialogoEl.querySelectorAll('.espaco');

            respostasUsuario.forEach((resposta, index) => {
                const espacoEl = espacos[index];
                if (resposta === debate.solucao[index]) {
                    espacoEl.style.borderColor = 'var(--verde-correto)';
                    acertos++;
                } else {
                    espacoEl.style.borderColor = 'var(--vermelho-incorreto)';
                }
            });
            
            feedbackEl.style.display = 'block';
            if (acertos === debate.solucao.length) {
                feedbackEl.className = 'correto';
                feedbackTextoEl.textContent = debate.comentarioAcerto;
                btnVerificarEl.style.display = 'none';
                btnAvancarEl.style.display = 'inline-block';
            } else {
                feedbackEl.className = 'incorreto';
                feedbackTextoEl.textContent = debate.comentarioErro;
            }
        });

        btnAvancarEl.addEventListener('click', () => {
            debateAtual++;
            carregarDebate();
        });

        btnComecarEl.addEventListener('click', iniciarAtividade);
        btnReiniciarEl.addEventListener('click', reiniciarAtividade);

    </script>
</body>
</html>